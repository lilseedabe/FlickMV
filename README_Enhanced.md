# FlickMV Enhanced - 音響同期機能付きミュージックビデオエディター\n\n![FlickMV Logo](https://via.placeholder.com/800x200/6366f1/ffffff?text=FlickMV+Enhanced)\n\n## 🎵 新機能概要\n\nFlickMV Enhancedは、音楽に完璧に同期したミュージックビデオを簡単に作成できる拡張エディターです。初心者でもプロ品質の仕上がりを実現できる革新的な機能を多数搭載しています。\n\n### ✨ 主要な新機能\n\n#### 1. 🎼 BPM検出 + ビートマーカー表示\n- **自動BPM検出**: Web Audio APIを使用した高精度なテンポ検出\n- **ビートマーカー**: タイムライン上に視覚的なビート表示\n- **信頼度表示**: 検出精度を数値で確認\n- **手動調整**: 必要に応じてビートマーカーの微調整が可能\n\n#### 2. 📐 ビートスナップタイムライン\n- **磁気スナップ**: クリップが自動的にビートや小節に吸着\n- **グリッド表示**: 1/16拍まで対応の細かいグリッド\n- **クオンタイズ**: 既存クリップのタイミングを自動調整\n- **視覚的フィードバック**: スナップ予告線でリアルタイム確認\n\n#### 3. 🎨 プリセットライブラリ（BPMタグ付）\n- **BPM最適化**: 楽曲のテンポに最適なプリセットを自動推奨\n- **ジャンル別分類**: Pop、Lo-fi、EDM、Hip-Hopなど豊富なカテゴリ\n- **難易度表示**: 初心者から上級者まで対応\n- **プレビュー機能**: 適用前に効果を確認\n\n#### 4. 🔊 周波数解析 + エフェクトトリガー\n- **リアルタイム解析**: 低域・高域・中域の音響パワーを監視\n- **自動エフェクト**: 特定の周波数帯域でエフェクトを自動発動\n- **ビジュアライザー**: スペクトラムとバンド表示の切り替え\n- **感度調整**: トリガー閾値をカスタマイズ\n\n#### 5. 📱 SNS最適化\n- **プラットフォーム対応**: Instagram、TikTok、YouTube Shortsなど\n- **自動リサイズ**: 各SNSの推奨解像度に自動調整\n- **セーフエリア表示**: UI要素が隠れない安全領域を表示\n- **ファイルサイズ最適化**: 各プラットフォームの制限内に圧縮\n\n#### 6. 🪄 Edit Recipes（自動編集レシピ）\n- **ビートカット**: ビートに合わせた自動カット編集\n- **ビートズーム**: リズムに合わせたズーム効果\n- **カラーフラッシュ**: ビートで色調を瞬間変化\n- **シェイクエフェクト**: インパクトのある画面揺れ\n\n---\n\n## 🚀 セットアップ\n\n### 必要要件\n- Node.js 18+ \n- npm または yarn\n- モダンブラウザ（Chrome, Firefox, Safari, Edge）\n\n### インストール\n\n```bash\n# プロジェクトのクローン\ngit clone https://github.com/your-username/flickmv.git\ncd flickmv\n\n# 依存関係のインストール\nnpm run install-all\n\n# 開発サーバーの起動\nnpm run dev\n```\n\n### 拡張エディターへのアクセス\n\n```\nhttp://localhost:3000/editor-v2\n```\n\n---\n\n## 📖 使用方法\n\n### 1. プロジェクト作成からBPM検出まで\n\n#### Step 1: 音声ファイルのアップロード\n1. 左パネルの「メディア」タブをクリック\n2. 「ファイルをアップロード」ボタンから音楽ファイル（MP3, WAV）を選択\n3. アップロード完了後、BPM検出コンポーネントが表示される\n\n#### Step 2: BPM検出の実行\n1. 「BPMを検出」ボタンをクリック\n2. 解析進行状況を確認（通常10-30秒）\n3. 検出結果を確認：\n   - **BPM**: 検出されたテンポ\n   - **信頼度**: 検出精度（70%以上推奨）\n   - **ビート数**: 検出されたビートの総数\n   - **小節数**: 4/4拍子での小節数\n\n#### Step 3: ビートマーカーの確認\n- タイムライン上に表示される紫色の縦線がビートマーカー\n- より太い線が小節マーカー\n- ヘッダーにBPM情報が表示される\n\n### 2. ビートスナップ機能の活用\n\n#### スナップ設定の調整\n1. タイムラインヘッダーの「スナップ」ボタンをクリックして有効化\n2. 歯車アイコンから詳細設定を開く：\n   - **ビートにスナップ**: 各ビートに吸着\n   - **小節にスナップ**: 小節の開始に吸着\n   - **分割**: 1/16拍まで対応\n   - **強度**: スナップの強さ（0-100%）\n\n#### クリップの配置\n1. タイムラインでクリップをドラッグ\n2. ビートマーカー付近で黄色いスナップ予告線が表示\n3. クリップが自動的にビートにスナップ\n\n### 3. プリセットライブラリの使用\n\n#### BPM最適化プリセットの選択\n1. 左パネルの「プリセット」タブを選択\n2. 上部に「あなたの楽曲にオススメ」セクションが表示\n3. 現在のBPMに最適化されたプリセットから選択\n4. 各プリセットの詳細情報を確認：\n   - **対応BPM範囲**\n   - **ジャンル**\n   - **難易度レベル**\n   - **評価・使用回数**\n\n#### フィルタリング機能\n- **検索**: プリセット名やタグで検索\n- **ジャンル**: Pop、EDM、Lo-fiなどでフィルター\n- **BPM範囲**: スロー、ミディアム、ファストで分類\n- **難易度**: 初心者、中級者、上級者\n\n### 4. Edit Recipesの適用\n\n#### レシピの選択と適用\n1. タイムラインでクリップを選択\n2. 左パネルの「レシピ」タブを開く\n3. 適用したいレシピを選択：\n   - **ビートカット**: 音楽のビートで自動カット\n   - **ビートズーム**: ビートに合わせたズーム\n   - **カラーフラッシュ**: ビートで色調変化\n   - **シェイクエフェクト**: インパクトのある揺れ\n\n#### パラメータの調整\n1. レシピの「プレビュー」ボタンをクリック\n2. 展開されるパラメータ設定で細かい調整\n3. 「適用」ボタンで確定\n\n### 5. 周波数解析の活用\n\n#### リアルタイム解析の開始\n1. 左パネルの「周波数」タブを選択\n2. 「開始」ボタンで解析を開始\n3. スペクトラムビジュアライザーで音響を視覚化\n\n#### トリガー設定\n1. 設定パネルで感度を調整（10-100%）\n2. 表示モードを選択：\n   - **スペクトラム**: 全周波数帯域を表示\n   - **バンド**: 低域・中域・高域で分類\n\n#### 自動エフェクト\n- 低音域でのトリガー → 画面シェイク、フラッシュ\n- 高音域でのトリガー → パーティクル、グロウ\n- 中音域でのトリガー → カラーグレーディング\n\n### 6. SNS最適化機能\n\n#### プラットフォーム選択\n1. 左パネルの「SNS」タブを選択\n2. 目標プラットフォームを選択：\n   - **Instagram リール**: 9:16、90秒以内\n   - **TikTok**: 9:16、180秒以内\n   - **YouTube Shorts**: 9:16、60秒以内\n   - **Twitter**: 16:9、140秒以内\n\n#### 適合性チェック\n- 現在のプロジェクトとの互換性を自動診断\n- 問題点と改善提案を表示\n- 適合性スコア（0-100%）で評価\n\n#### 最適化の実行\n1. 「最適化実行」ボタンをクリック\n2. 自動的に以下を調整：\n   - 解像度とアスペクト比\n   - ファイルサイズ圧縮\n   - フレームレート調整\n   - セーフエリア適用\n\n---\n\n## 🎯 ベストプラクティス\n\n### BPM検出の精度向上\n- **クリアな音源を使用**: ノイズの少ない音楽ファイル\n- **一定テンポの楽曲**: テンポ変化の少ない楽曲が理想\n- **十分な長さ**: 30秒以上の楽曲で精度向上\n\n### 効果的なビート同期編集\n- **ビートマーカーを活用**: 視覚的なガイドに従って配置\n- **段階的な調整**: 最初は大まかに、徐々に細かく調整\n- **プレビューを活用**: 変更の度に再生して確認\n\n### プリセット選択のコツ\n- **ジャンルマッチング**: 楽曲のジャンルに合うプリセットを選択\n- **BPM考慮**: 楽曲のテンポに最適化されたプリセットを優先\n- **段階的適用**: 複数のプリセットを組み合わせて使用\n\n### 周波数トリガーの設定\n- **適切な感度**: 70-80%から開始して調整\n- **楽曲特性の考慮**: EDMは低音、ポップスは全帯域を重視\n- **過度な使用を避ける**: エフェクトの乱用は逆効果\n\n---\n\n## 🔧 技術仕様\n\n### BPM検出アルゴリズム\n- **FFT解析**: 2048サイズのFFTで周波数解析\n- **ピーク検出**: エネルギーベースのビート検出\n- **テンポ推定**: オートコリレーションとピーク間隔解析\n- **信頼度計算**: ビート間隔の一貫性で評価\n\n### 対応ファイル形式\n#### 音声\n- MP3 (128kbps - 320kbps)\n- WAV (16bit/24bit)\n- AAC (128kbps - 256kbps)\n\n#### 映像\n- MP4 (H.264/H.265)\n- MOV (QuickTime)\n- WebM (VP9)\n\n#### 画像\n- JPEG/JPG\n- PNG (透明度対応)\n- WebP\n\n### パフォーマンス要件\n- **RAM**: 最小4GB、推奨8GB以上\n- **CPU**: マルチコア推奨\n- **GPU**: ハードウェアアクセラレーション対応\n\n---\n\n## 🐛 トラブルシューティング\n\n### よくある問題と解決方法\n\n#### BPM検出ができない\n**症状**: 「BPMを検出」ボタンを押してもエラーが発生\n**解決方法**:\n1. 音声ファイルの形式を確認（MP3, WAV推奨）\n2. ファイルサイズが100MB以下であることを確認\n3. ブラウザのWebAudio API対応を確認\n4. 一度ページをリフレッシュ\n\n#### ビートマーカーがずれている\n**症状**: 検出されたビートマーカーが音楽とずれている\n**解決方法**:\n1. 信頼度が70%未満の場合は手動調整を検討\n2. 楽曲の開始部分にイントロがある場合は調整が必要\n3. 複雑な楽曲（変拍子、テンポ変化）は手動設定を推奨\n\n#### スナップ機能が効かない\n**症状**: クリップがビートにスナップしない\n**解決方法**:\n1. タイムラインヘッダーの「スナップ」ボタンが有効になっているか確認\n2. ビートマーカーが正しく表示されているか確認\n3. スナップ距離設定を確認（デフォルト: 10px）\n\n#### プリセットが適用されない\n**症状**: プリセットを選択してもエフェクトが適用されない\n**解決方法**:\n1. クリップが選択されているか確認\n2. プリセットの対応BPM範囲を確認\n3. プレミアムプリセットの場合はプラン確認\n\n#### 周波数解析が表示されない\n**症状**: 周波数タブで解析が開始されない\n**解決方法**:\n1. ブラウザのマイクアクセス許可を確認\n2. 音声ファイルが正しく読み込まれているか確認\n3. AudioContextの初期化を確認\n\n#### SNS最適化でエラーが発生\n**症状**: 最適化処理中にエラーが発生\n**解決方法**:\n1. プロジェクトの動画が対象プラットフォームの制限内か確認\n2. 十分なメモリ容量があるか確認\n3. ブラウザのハードウェアアクセラレーションを有効化\n\n### パフォーマンス改善\n\n#### 重い処理の最適化\n1. **プロジェクトサイズ**: 大量のメディアファイルを避ける\n2. **解像度調整**: 編集中は低解像度、出力時に高解像度\n3. **エフェクト制限**: 同時適用エフェクト数を制限\n4. **メモリ管理**: 定期的なブラウザリフレッシュ\n\n---\n\n## 📚 参考情報\n\n### 学習リソース\n- [ミュージックビデオ制作の基礎]()\n- [BPMとビート同期の理論]()\n- [周波数解析入門]()\n- [SNS向け動画制作ガイド]()\n\n### コミュニティ\n- [Discord サーバー]()\n- [YouTube チュートリアル]()\n- [ユーザーフォーラム]()\n\n### 開発者向け\n- [API ドキュメント]()\n- [プラグイン開発ガイド]()\n- [コントリビューション ガイド]()\n\n---\n\n## 📄 ライセンス\n\nMIT License - 詳細は [LICENSE](LICENSE) ファイルを参照\n\n## 🤝 コントリビューション\n\nプルリクエストやイシューの報告を歓迎します。\n\n1. このリポジトリをフォーク\n2. 機能ブランチを作成 (`git checkout -b feature/AmazingFeature`)\n3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)\n4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)\n5. プルリクエストを作成\n\n---\n\n## 📞 サポート\n\n- 📧 Email: support@flickmv.com\n- 🐦 Twitter: [@FlickMV](https://twitter.com/flickmv)\n- 💬 Discord: [FlickMV Community]()\n\n---\n\n**FlickMV Enhanced** - 音楽と映像の完璧な融合を、誰でも簡単に。"